version: 2

jobs:
  run:
    docker:
     - image: circleci/node:latest
    steps:
     - checkout
     - run: 'npm i coveralls jest codecov'
     - run: 'node index.js'
     - run: 'jest --coverage && cp ./coverage/lcov.info coverage.lcov'
     - run: 'cat coverage.lcov | ./node_modules/coveralls/bin/coveralls.js'
     - run: './node_modules/.bin/codecov'
